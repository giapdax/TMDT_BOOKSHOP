<!DOCTYPE html>
<html lang="vi" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <title>Hoàn tiền PayPal (1 lần)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <link rel="stylesheet" href="/assets/css/bootstrap.min.css">
</head>
<body class="p-4">
<h4>Hoàn tiền 1 lần – Đơn <span th:text="${order.orderId}">#</span></h4>

<p>Khách: <strong th:text="${order.user.name}">Tên KH</strong></p>
<p>Tổng tiền (VND): <strong th:text="${#numbers.formatDecimal(order.amount,1,'DEFAULT',0,'DEFAULT')} + ' đ'">0 đ</strong></p>
<p>Capture ID: <code th:text="${order.paypalCaptureId}">CAPTURE-ID</code></p>
<hr/>

<form th:action="@{/admin/paypal/refund}" method="post" class="mt-2">
    <input type="hidden" name="orderId" th:value="${order.orderId}"/>
    <!-- Tránh lỗi khi _csrf không có trong model -->
    <input type="hidden" th:if="${_csrf != null}" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
    <button type="submit" class="btn btn-danger">Xác nhận hoàn tiền toàn bộ (1 lần)</button>
    <a th:href="@{/admin/orders}" class="btn btn-secondary">Huỷ</a>
</form>

<script src="/assets/js/core/jquery.3.2.1.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>
</body>
</html>
